<!-- Extends the layout from /app/views/layout.html -->
{% extends 'layout.html' %}
{% from "radios/macro.njk" import radios %}
{% from "select/macro.njk" import select %}


<!-- Set the page title -->
{% block pageTitle %}
  {{ serviceName }}
{% endblock %}

<!-- For adding a breadcrumb or back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs and https://service-manual.nhs.uk/design-system/components/back-link -->
{% block beforeContent %}
  <div class="nhsuk-back-link"> <a class="nhsuk-back-link__link" href="/patients/example-id">
      <svg class="nhsuk-icon nhsuk-icon__chevron-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" height="24" width="24">
        <path d="M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"></path>
      </svg>
      Go back</a>
  </div>
{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">

      <!-- Add your content here -->
      <!-- Styles and components can be found at https://service-manual.nhs.uk/design-system -->

      <span class="nhsuk-caption-xl">
        Create new approval request for Jeremy Dalston
      </span>
      <h1 class="nhsuk-heading-xl">
        Confirm GP surgery
      </h1>

      <div class="nhsuk-form-group">
        <h2 class="nhsuk-heading-s">Please confirm that the following is the correct GP surgery for the patient</h2>
        <div id="drug-autocomplete-container" class="aa-input-container"></div>
        <input
          class="nhsuk-input"
          id="gp-practice"
          name="gp-practice"
          type="search"
          autocomplete="off"
          value="(FRACTURE CLINIC) NORTH OOH-Y00082-NN1 5BD"
          readonly
        />
      </div>
      <form method="post" action="/patients/example-id/select-request-type" class="inline-btn">
        <button class="nhsuk-button" data-module="nhsuk-button" type="submit">
          Yes, that's correct
        </button>
      </form>

      <form method="post" action="/patients/add/details" class="inline-btn">
        <button class="nhsuk-button nhsuk-button--secondary" data-module="nhsuk-button" type="submit">
          No, let me update it
        </button>
      </form>

    </div>
  </div>
{% endblock %}

{% block pageScripts %}

<script>

    const surgeryList = [
    ];

    accessibleAutocomplete({
      element: document.querySelector('#surgery-autocomplete-container'),
      id: 'surgery-autocomplete',
      name: 'surgery',
      source: surgeryList,
      minLength: 2,
      autoselect: true,
      confirmOnBlur: false,
      displayMenu: 'overlay'
    });
</script>

{% endblock %}